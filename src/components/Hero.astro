---
import heroImg from '../assets/hero-boite.png';
import heroAlt from '../assets/IMG_0380-1024x683.jpg';
import heroCabine from '../assets/boite-a-livres-cabine-1024x512.png';

const heroMainSrc = heroImg.src;
const heroAltSrc = heroAlt.src;
const heroCabineSrc = heroCabine.src;
---

<section
	id="top"
	class="relative overflow-hidden bg-gradient-to-br from-[#0B1224] via-[#0E1F38] to-[#123058] text-white"
>
	<div class="absolute inset-0 pointer-events-none">
		<div class="absolute -left-10 top-10 h-48 w-48 rounded-full bg-leaf/40 blur-3xl" data-parallax="24"></div>
		<div class="absolute right-4 top-16 h-64 w-64 rounded-full bg-cta/35 blur-3xl" data-parallax="30"></div>
		<div class="absolute bottom-10 left-12 h-16 w-72 rounded-full bg-white/10 blur-3xl" data-parallax="12"></div>
	</div>
	<div class="absolute inset-0 animated-gradient opacity-60"></div>

	<div class="section-shell grid gap-12 lg:grid-cols-2 items-center py-16 sm:py-20 lg:py-24 relative">
		<div class="space-y-6" data-animate="fade-up">
			<div
				class="inline-flex items-center gap-2 rounded-full bg-white/10 border border-white/15 shadow px-4 py-2 text-sm font-semibold"
				data-float
			>
				<span class="h-2 w-2 rounded-full bg-leaf shadow-glow"></span>
				Plateforme citoyenne de partage de livres
			</div>
			<div class="space-y-4">
				<h1 class="hero-title text-4xl sm:text-5xl lg:text-6xl font-display font-bold leading-tight text-white">
					Partagez vos livres, faites vivre votre quartier.
				</h1>
				<p class="hero-subtitle text-lg sm:text-xl text-white/80 max-w-2xl">
					Découvrez les boîtes à livres près de chez vous, déposez un livre, repartez avec une nouvelle lecture.
					Gratuit, simple et ouvert à tous.
				</p>
			</div>
			<div class="flex flex-col sm:flex-row gap-4" data-animate="fade-up" data-delay="0.15">
				<a href="#carte" class="cta-primary hero-cta magnetic" data-magnetic>Trouver une boîte à livres</a>
				<a
					href="#proposer"
					class="cta-secondary hero-cta-secondary bg-white/15 text-white border-white/20 magnetic"
					data-magnetic
					>Ajouter une boîte près de chez moi</a
				>
			</div>
			<p class="text-sm text-white/70" data-animate="fade-up" data-delay="0.25">
				Service 100 % gratuit, sans inscription obligatoire pour consulter les boîtes.
			</p>
			<div class="flex flex-wrap gap-3" data-animate="fade-up" data-delay="0.35">
				<span class="pill bg-white/15 text-white border border-white/25" data-float>+120 boîtes à livres référencées</span>
				<span class="pill bg-white/15 text-white border border-white/25" data-float>Communauté de lecteurs locaux</span>
				<span class="pill bg-white/15 text-white border border-white/25" data-float>Initiatives citoyennes et associatives</span>
			</div>
		</div>

		<div class="relative" data-animate="fade-up" data-delay="0.2">
			<div class="absolute -top-8 -left-6 h-20 w-20 rounded-2xl bg-leaf/35 blur-2xl" data-parallax="20"></div>
			<div class="absolute -bottom-10 -right-4 h-24 w-24 rounded-2xl bg-cta/30 blur-2xl" data-parallax="16"></div>
			<div class="glass-card hero-illustration relative overflow-hidden p-0 shadow-soft bg-white/95" data-parallax="10">
				<div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/35 to-transparent z-10"></div>
				<img id="hero-main-img" src={heroMainSrc} alt="Boîte à livres de quartier" class="h-96 w-full object-cover" loading="lazy" />
				<div class="absolute inset-0 grid place-items-center z-0">
					<div class="h-72 w-72 rounded-full bg-white/5 blur-3xl"></div>
				</div>
				<div class="absolute top-0 left-0 right-0 flex items-center justify-between px-4 pt-4 z-20">
					<div class="flex items-center gap-2">
						<span class="h-3 w-3 rounded-full bg-green-400"></span>
						<span class="h-3 w-3 rounded-full bg-yellow-400"></span>
						<span class="h-3 w-3 rounded-full bg-red-400"></span>
					</div>
					<span class="text-sm font-semibold text-white">Carte des boîtes</span>
				</div>
				<div class="absolute inset-0">
					{['top-16 left-24', 'top-28 right-16', 'bottom-16 left-12', 'bottom-12 right-24', 'top-1/2 left-1/2'].map((pos, idx) => (
						<span class={`marker absolute ${pos} h-4 w-4`} data-marker data-delay={idx * 0.08}>
							<span class="absolute inset-0 animate-ping rounded-full bg-cta/60"></span>
							<span class="relative block h-4 w-4 rounded-full bg-white shadow-soft border-2 border-cta"></span>
						</span>
					))}
				</div>
				<div class="absolute left-4 bottom-4 glass-card px-4 py-3 shadow-soft w-60 z-20 bg-white/90">
					<p class="text-sm font-semibold text-ink">Boîte du Parc des Tilleuls</p>
					<p class="text-xs text-muted">Accès libre – 200 m</p>
					<div class="flex items-center gap-2 mt-2">
						<span class="badge bg-leaf/30 text-ink">Romans</span>
						<span class="badge bg-cta/25 text-ink">Enfants</span>
						<span class="badge bg-blue-100 text-ink">BD</span>
					</div>
				</div>
			</div>
			<div class="flex items-center gap-3 mt-4">
				{[
					{ src: heroMainSrc, label: 'Cabine partagée' },
					{ src: heroAltSrc, label: 'Boîte de quartier' },
					{ src: heroCabineSrc, label: 'Cabane bois' },
				].map((item, idx) => (
					<button
						class="flex items-center gap-2 px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white text-xs hover:bg-white/15 transition"
						data-hero-thumb={item.src}
						aria-label={`Voir ${item.label}`}
					>
						<span class="h-2 w-2 rounded-full bg-cta"></span>
						{item.label}
					</button>
				))}
			</div>
		</div>
	</div>
</section>
